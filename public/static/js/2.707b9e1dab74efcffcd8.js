webpackJsonp([2],{M5at:function(t,e,s){var a=s("PDVx");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("aca481ea",a,!0)},PDVx:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,'\n.print-ct {\n  display: none;\n}\n@media print {\n.el-message {\n    display: none !important;\n}\n.printitem div {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.printitem div:nth-of-type(1) span {\n      border-top: 2xp solid #ebeef5;\n}\n.printitem div:last-of-type span {\n      border-bottom: 2xp solid #ebeef5;\n}\n.printitem div span {\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 11%;\n              flex: 0 0 11%;\n      width: 11%;\n      border: 1px solid #ebeef5;\n      font-size: 10px;\n      text-align: center;\n      line-height: 30px;\n      word-wrap: break-word;\n}\n.printitem div span:nth-of-type(1) {\n        border-left: 2xp solid #ebeef5;\n}\n.printitem div span:last-of-type {\n        border-right: 2xp solid #ebeef5;\n}\n.print-ct {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    min-height: 100%;\n    z-index: 99999;\n    background: white;\n    display: block;\n}\n.print-ct-header {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      margin-bottom: 20px;\n}\n.print-ct-header div {\n        margin-top: 20px;\n        margin-right: 40px;\n        display: inline-block;\n}\n.print-ct .ul {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n      -webkit-box-pack: justify;\n          -ms-flex-pack: justify;\n              justify-content: space-between;\n}\n.print-ct .ul .list {\n        -webkit-box-flex: 0;\n            -ms-flex: 0 0 30%;\n                flex: 0 0 30%;\n        font-size: 13px;\n        margin-bottom: 5px;\n}\n.details {\n    margin: 0;\n}\n.main-container {\n    margin-left: 0 !important;\n}\n.el-scrollbar__bar {\n    display: none !important;\n}\n.sidebar-container {\n    display: none !important;\n}\n.el-scrollbar__view {\n    display: none;\n}\n.el-menu {\n    display: none !important;\n}\n.noprint {\n    display: none !important;\n}\n}\n.el-tag {\n  padding: 0 15px;\n}\n.el-form-item__label {\n  font-size: 13px;\n}\n.tuihuo input {\n  width: 210px;\n}\n.model {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n}\n.model:after {\n    content: "";\n    width: 100%;\n    position: absolute;\n    height: 100%;\n    z-index: 1;\n    top: 0;\n    left: 0;\n}\n.model > span {\n    margin-right: 20px;\n}\n.info span {\n  line-height: 20px;\n}\n.info span:last-child {\n    color: #aaa;\n    margin-left: 10px;\n}\n.el-col {\n  margin-bottom: 20px;\n}\n.el-col.left {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.el-col.left img {\n      margin-left: 30px;\n}\n.el-col.right {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: end;\n        -ms-flex-pack: end;\n            justify-content: flex-end;\n}\n',""])},eu3j:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bOdI"),i=s.n(a),n=s("0xDb"),r=s("M9A7"),l=s("162o"),o=void 0,p={name:"index",methods:{gotodetails:function(){this.$router.push({name:"orderdetails",query:{id:index}})},onecode:function(){(o=getLodop(document.getElementById("LODOP1"),document.getElementById("LODOP_EM1"))).ADD_PRINT_BARCODE(40,200,400,47,"EAN128B",this.item.order_sn),o.SET_PRINT_STYLEA(0,"AlignJustify",2),o.PRINT_DESIGN()},totalnum:function(){var t=0;if(this.checklist)for(var e in this.checklist)this.checklist[e].amount&&2!=this.checklist[e].parts_status?t+=parseInt(this.checklist[e].amount):t+=0;return t},totalpart:function(){var t=0;if(this.item.list)for(var e in this.item.list)this.item.list[e].final_price&&2!=this.item.list[e].parts_status?t+=parseFloat(this.item.list[e].final_price):t+=0;return t+"元"},surenumber:function(){var t=this,e=this.number.form;Object(r.a)("parts/saveorderparts",{order_id:e.order_id,id:e.id,op_type:e.op_type,parts_sn:e.parts_sn,parts_name:e.parts_name,spec:e.spec,unit:e.unit,amount:e.amount,sell_price:e.sell_price,discount:e.discount,final_price:e.final_price}).then(function(e){t.number.showkey=!1,t.$message({message:"修改数量成功",type:"success"}),t.getinfo()})},gotobeizhu:function(){var t=this.$router.resolve({name:"remarkindex",query:{id:this.$route.query.id}});window.open(t.href,"_blank")},checkdate:function(t){return Object(n.a)(t)},shouldvalue:function(t,e){var s=(parseFloat(t||0)*parseFloat(e||0)).toFixed(2);return isNaN(s)?"":s+"元"},discountof:function(t,e){var s=(parseFloat(t||0)*parseFloat(e||0)/10).toFixed(2);return isNaN(s)?"":s+"元"},handleSelectionChange:function(t){this.checklist=t},parrtsubmit:function(){var t=this,e=(this.ruleForm,this.dialog.parts);this.$refs.parts.validate(function(s){if(s){if(0==t.dialog.parts.discount)return void t.$message({message:"折扣不能为0",type:"warning"});if(0==t.dialog.parts.istype)return void t.$message({message:"材料类型异常,请重试",type:"warning"});Object(r.a)("parts/saveorderparts",{order_id:t.$route.query.id,is_temporary:0,is_add:1,op_type:t.dialog.parts.istype,parts_sn:t.dialog.parts.parts_sn,parts_name:t.dialog.parts.itemname,spec:e.spec,unit:e.unit,amount:e.amount,sell_price:parseFloat(e.item_cost),discount:parseFloat(e.discount/10)}).then(function(e){t.dialog.parts.showkey=!1,t.$message({message:"创建材料成功",type:"success"}),t.getinfo()})}})},addparint:function(){var t=this;this.dialog.parts.showkey=!0,this.$nextTick(function(){t.$refs.parts.resetFields()})},revamp:function(t){var e=this.number.form;for(var s in e)e[s]=t.row[s];this.number.showkey=!0},discountvalue:function(t,e,s){var a=(parseFloat(t||0)*parseFloat(e||0)*parseFloat(s||0)/10).toFixed(2);return isNaN(a)?"":a+"元"},print:function(){var t=this;0!=this.item.list.length?0!=this.checklist.length?(this.printtime=this.checkdate((new Date).getTime()),Object(l.setTimeout)(function(){try{var e=getLodop();e.VERSION?(e.PRINT_INIT(""),e.SET_PRINT_STYLE("FontSize",18),e.SET_PRINT_STYLE("Bold",1),e.ADD_PRINT_HTM(40,5,"100%","100%",document.getElementById("form1").innerHTML),e.PREVIEW()):t.$message({showClose:!0,message:"打印控件未安装,请先联系管理员下载安装",type:"warning"})}catch(t){}},500)):this.$message({showClose:!0,message:"请先勾选打印材料",type:"warning"}):this.$message({showClose:!0,message:"表单数据为空",type:"warning"})},deliver:function(){var t=this,e=this;if(0!=this.checklist.length){var s=function(s){2==t.checklist[s].parts_status?Object(l.setTimeout)(function(){e.$notify({title:"警告",message:e.checklist[s].parts_name+"已退货不能再发货了哟",type:"warning",duration:3e3})},500):Object(r.a)("parts/sendoutparts",{id:t.checklist[s].id}).then(function(e){t.$notify({title:"成功",message:t.checklist[s].parts_name+"发货成功",type:"success",offset:100,duration:1500}),t.checklist[s].parts_status=1,t.checklist[s].status="已发货"}).catch(function(e){t.$notify.error({title:"失败",duration:1500,message:t.checklist[s].parts_name+"发货失败"})})};for(var a in this.checklist)s(a)}else this.$message({message:"请先勾选表单",type:"warning"})},returns:function(){var t=this,e=this;this.$confirm("确定要将该订单返回到开单状态吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0,type:"warning"}).then(function(){Object(r.a)("/common/resetorder",{order_id:t.$route.query.id}).then(function(s){t.$notify({title:"成功",message:"返回到开单状态成功",type:"success",duration:2e3}),Object(l.setTimeout)(function(){e.$router.push({name:"partsindex"})},1500)})}).catch(function(){})},suretuihuo:function(){var t=this;this.$refs.zonetuihuo.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.tuihuo.showkey=!1,Object(r.a)("parts/delete",{id:t.tuihuo.form.id,num:t.tuihuo.form.amount}).then(function(e){t.$message({message:"退货成功",type:"success"}),t.getinfo()})})},tuihuos:function(){var t=this,e=this;if(0!=this.checklist.length){var s=function(s){0==t.checklist[s].parts_status?Object(l.setTimeout)(function(){e.$notify({title:"警告",message:e.checklist[s].parts_name+"未发货不能退货哟",type:"warning",duration:3e3})}):Object(r.a)("parts/returnparts",{id:t.checklist[s].id,num:t.checklist[s].amount}).then(function(e){t.$notify({title:"成功",message:t.checklist[s].parts_name+"退货"+t.checklist[s].amount+t.checklist[s].unit+"成功",type:"success",offset:100,duration:1500}),t.checklist[s].parts_status=2,t.checklist[s].status="已退货"}).catch(function(e){t.$notify.error({title:"成功",duration:1500,message:t.checklist[s].parts_name+"退货"+t.checklist[s].amount+t.checklist[s].unit+"失败"})})};for(var a in this.checklist)s(a)}else this.$message({message:"请先勾选表单",type:"warning"})},checksale:function(t){var e=this;if(this.checktype=t,1==this.checkasale){if(0==this.checklist.length)return void this.$message({message:"请先勾选表单",type:"warning"});if(this.checklist.length>1)return void this.$message({message:"一次只能操作一个材料",type:"warning"});for(var s in this.dialogFormVisible.form)this.dialogFormVisible.form[s]=this.checklist[0][s]}else for(var a in this.dialogFormVisible.form)this.dialogFormVisible.form[a]="";this.dialogFormVisible.showkey=!0,this.$nextTick(function(){e.$refs.zoneform.resetFields()})},partschange:function(t){var e=this.alloptionsd.findIndex(function(e){return e.id==t});e>-1&&(this.dialog.parts.unit=this.alloptionsd[e].unit,this.dialog.parts.spec=this.alloptionsd[e].spec,this.dialog.parts.itemname=this.alloptionsd[e].parts_name+" "+this.alloptionsd[e].spec+this.alloptionsd[e].target_model,this.dialog.parts.parts_sn=this.alloptionsd[e].sn,this.dialog.parts.item_cost=this.alloptionsd[e].sell_price)},checkitem:function(){var t=this;t.dialog.parts.showkey=!0,this.$nextTick(function(){t.$refs.parts.resetFields()})},getinfo:function(){var t=this,e=this.$route.query.id;Object(r.a)("parts/vieworder",{order_id:e}).then(function(e){var s=e.data;switch(s.order_status){case 0:s.status_num="作废";break;case 1:s.status_num="已接车";break;case 2:s.status_num="已开单";break;case 3:s.status_num="已调度";break;case 4:s.status_num="已开工";break;case 5:s.status_num="已完工";break;case 6:s.status_num="已结算";break;case 7:s.status_num="已回访";break;case 99:s.status_num="已暂停"}t.item=s})}},mounted:function(){var t=this;this.dialog.parts.itemname="",Object(r.a)("common/getallparts",{op_type:0}).then(function(e){t.alloptionsd=e.data.list}),Object(r.a)("common/getoptypelist").then(function(e){t.getoptypelist=e.data.list}),Object(r.a)("common/getoptypelist").then(function(e){t.dialog.temporary.classes=e.data.list}),this.getinfo()},data:function(){var t,e=function(t,e,s){isNaN(e)&&s(new Error("请输入数字")),parseFloat(e)<0||parseFloat(e)>10?s(new Error("折扣应在0-10之间")):s()};return{item:{},patts:(t={spec:[{required:!0,message:"请输入规格",trigger:"blur"}],itemname:[{required:!0,message:"请输入项目名称",trigger:"blur"}],unit:[{required:!0,message:"请输入单位",trigger:"blur"}],amount:[{required:!0,message:"请填写数量",trigger:"blur"}],item_cost:[{required:!0,message:"请填写单价",trigger:"blur"}],istype:[{required:!0,message:"请选择业务类型",trigger:"change"}]},i()(t,"itemname",[{required:!0,message:"请填写材料名称",trigger:"blur"}]),i()(t,"discount",[{required:!0,validator:e,trigger:"blur"}]),t),alloptionsd:[],rules:{sn:[{required:!0,message:"请输入材料编码",trigger:"blur"}],parts_name:[{required:!0,message:"请输入材料名称",trigger:"blur"}],target_model:[{required:!0,message:"请输入对应车型",trigger:"blur"}],spec:[{required:!0,message:"请输入材料规格",trigger:"blur"}],unit:[{required:!0,message:"请输入材料单位",trigger:"blur"}],amount:[{required:!0,message:"请输入材料数量",trigger:"blur"}],purchase_price_tax:[{required:!0,message:"请输入材料进货单价",trigger:"blur"}],purchase_price_notax:[{required:!0,message:"请输入材料进货单价",trigger:"blur"}],sell_price:[{required:!0,message:"请输入材料出货价格",trigger:"blur"}],parts_location:[{required:!0,message:"请输入材料库存位置",trigger:"blur"}],discount:[{required:!0,validator:e,trigger:"blur"}]},rule:{parts_name:[{required:!0,message:"请输入材料名称",trigger:"blur"}],amount:[{required:!0,message:"请输入材料数量",trigger:"blur"}],spec:[{required:!0,message:"请输入材料规则",trigger:"blur"}],unit:[{required:!0,message:"请输入材料单位",trigger:"blur"}],purchase_price_tax:[{required:!0,message:"请输入材料进货单价",trigger:"blur"}],purchase_price_notax:[{required:!0,message:"请输入材料进货单价",trigger:"blur"}],final_price:[{required:!0,message:"请输入材料出货单价",trigger:"blur"}],discount:[{required:!0,validator:e,trigger:"blur"}]},getoptypelist:[],checklist:[],totalnumber:"",totalmoney:"",printtime:"",dialogFormVisible:{showkey:!1,form:{id:"",op_type:"",sn:"",parts_name:"",target_model:"",spec:"",unit:"",amount:"",purchase_price_tax:"",purchase_price_notax:"",sell_price:"",parts_location:""}},number:{showkey:!1,form:{order_id:"",id:"",itemname:"",istype:"",is_temporary:"",parts_sn:"",parts_name:"",spec:"",unit:"",amount:"",sell_price:"",discount:10,final_price:""}},dialog:{showkey:!1,parts:{showkey:!1,order_id:"",itemname:"",istype:"",is_temporary:"",parts_sn:"",parts_name:"",spec:"",unit:"",amount:"",sell_price:"",discount:10,final_price:""},temporary:{classes:[]}},tuihuo:{showkey:!1,form:{parts_name:"",amount:"",spec:"",unit:"",purchase_price_tax:"",purchase_price_notax:"",final_price:"",id:""}},checktype:"",tableData3:[{}],checkList:[],data:[{name:"我的任务",num:1111},{name:"我的任务",num:1},{name:"我的任务",num:1}]}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"partskucun  zone-content "},[s("div",{staticClass:"print-ct",attrs:{id:"form1"}},[s("h1",{staticStyle:{"text-align":"center"}},[t._v("发货单")]),t._v(" "),s("div",{staticClass:"print-ct-header",staticStyle:{display:"flex","margin-bottom":"20px"}},[s("div",{staticStyle:{"-webkit-box-flex":"0","-ms-flex":"0 0 33%",flex:"0 0 33%","line-height":"30px",height:"30px",margin:"0","font-size":"16px"}},[t._v("单号:"+t._s(t.item.order_sn))]),t._v(" "),s("div",{staticStyle:{"-webkit-box-flex":"0","-ms-flex":"0 0 33%",flex:"0 0 33%","line-height":"30px",height:"30px",margin:"0","font-size":"16px"}}),t._v(" "),s("div",{staticStyle:{"-webkit-box-flex":"0","-ms-flex":"0 0 33%",flex:"0 0 33%","line-height":"30px",height:"30px",margin:"0","font-size":"16px"}},[t._v("打印时间:"+t._s(t.printtime))])]),t._v(" "),s("div",{staticStyle:{display:"flex","margin-bottom":"20px"}},[s("p",{staticStyle:{flex:"1"}},[t._v("车牌号:"+t._s(t.item.vehicle_number))]),t._v(" "),s("p",{staticStyle:{flex:"1"}},[t._v("车架号:"+t._s(t.item.vehicle_vin))]),t._v(" "),s("p",{staticStyle:{flex:"1"}},[t._v("车型:"+t._s(t.item.brand)+" "+t._s(t.item.model)+" "+t._s(t.item.vehicle_model))])]),t._v(" "),s("div",{staticClass:"printitem"},[s("h3",{staticStyle:{"margin-bottom":"20px"}},[t._v("材料清单")]),t._v(" "),s("table",{staticStyle:{margin:"0 auto","border-collapse":"collapse","table-layout":"fixed",border:"solid 1px black"},attrs:{border:"1",width:"600",height:"30",cellspacing:"0"}},[t._m(0),t._v(" "),t._l(t.checklist,function(e,a){return 2!=e.parts_status?s("tr",{key:a},[s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v(t._s(e.id))]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v(t._s(e.parts_sn))]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"200",height:"30",align:"center"}},[t._v(t._s(e.parts_name.split(" ")[0]))]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"120",height:"30",align:"center"}},[t._v(t._s(e.target_model))]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v(t._s(e.spec))]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v(t._s(e.unit))]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v(t._s(e.amount))])]):t._e()}),t._v(" "),s("tr",[s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"60",height:"30",align:"center"}},[t._v("合计:")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"110",height:"30",align:"center"}}),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"50",height:"30",align:"center"}}),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"200",height:"30",align:"center"}}),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"50",height:"30",align:"center"}}),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"50",height:"30",align:"center"}}),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"50",height:"30",align:"center"}},[t._v(t._s(t.totalnum()))])])],2),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"noprint"},[s("el-dialog",{staticStyle:{"box-sizing":"border-box"},attrs:{title:"添加材料",visible:t.dialog.parts.showkey,width:"50%",center:""},on:{"update:visible":function(e){t.$set(t.dialog.parts,"showkey",e)}}},[s("el-form",{ref:"parts",attrs:{"label-position":"left",model:t.dialog.parts,rules:t.patts,"label-width":"100px"}},[s("el-row",[s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"业务类别",prop:"istype"}},[s("el-select",{attrs:{placeholder:"请选择业务类别"},model:{value:t.dialog.parts.istype,callback:function(e){t.$set(t.dialog.parts,"istype",e)},expression:"dialog.parts.istype"}},t._l(t.dialog.temporary.classes,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{staticStyle:{"text-align":"left",tisth:"300px"},attrs:{label:"材料名称",prop:"itemname"}},[s("el-select",{attrs:{filterable:"",remote:"",placeholder:"请输入关键词"},on:{change:t.partschange},model:{value:t.dialog.parts.itemname,callback:function(e){t.$set(t.dialog.parts,"itemname",e)},expression:"dialog.parts.itemname"}},t._l(t.alloptionsd,function(t){return s("el-option",{key:t.id,attrs:{label:t.parts_name+" "+t.spec+" "+t.target_model+" 剩余数量:"+t.amount,value:t.id}})}))],1)],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"折后单价"}},[s("span",[t._v(t._s(t.discountof(t.dialog.parts.item_cost,t.dialog.parts.discount)))])])],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"规格",prop:"spec"}},[s("span",[t._v(t._s(t.dialog.parts.spec?t.dialog.parts.spec:"等待选择材料"))])])],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"应收金额"}},[s("span",[t._v(t._s(t.shouldvalue(t.dialog.parts.item_cost,t.dialog.parts.amount)))])])],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"单位",prop:"unit"}},[s("span",[t._v(t._s(t.dialog.parts.unit?t.dialog.parts.unit:"等待选择材料"))])])],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"折后金额"}},[s("span",[t._v(t._s(t.discountvalue(t.dialog.parts.item_cost,t.dialog.parts.amount,t.dialog.parts.discount)))])])],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"数量",prop:"amount"}},[s("el-input",{staticClass:"modelinput",model:{value:t.dialog.parts.amount,callback:function(e){t.$set(t.dialog.parts,"amount",e)},expression:"dialog.parts.amount"}})],1)],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"单价",prop:"item_cost"}},[s("span",[t._v(t._s(t.dialog.parts.item_cost?t.dialog.parts.item_cost:"等待选择材料"))])])],1),t._v(" "),s("el-col",{attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"折扣",prop:"discount"}},[s("el-input",{staticClass:"zhekou",staticStyle:{width:"50%"},model:{value:t.dialog.parts.discount,callback:function(e){t.$set(t.dialog.parts,"discount",e)},expression:"dialog.parts.discount"}}),t._v(" "),s("span",[t._v("(0-10之间)")])],1)],1),t._v(" "),s("el-col")],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialog.parts.showkey=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.parrtsubmit(!0)}}},[t._v("确 定")])],1)],1),t._v(" "),s("el-row",{attrs:{type:"flex",jusitfy:"space-between"}},[s("el-col",{staticClass:"left"},[s("div",[t._v("单号:"+t._s(t.item.order_sn))]),t._v(" "),s("img",{staticStyle:{"max-width":"400px"},attrs:{height:"50px",src:"data:image/jpeg;base64,"+t.item.barcode,alt:""},on:{click:t.onecode}})]),t._v(" "),s("el-col",{staticClass:"right"},[s("el-button",{attrs:{size:"medium",type:"primary"},nativeOn:{click:function(e){t.gotobeizhu(e)}}},[t._v("备注("+t._s(t.item.notes)+")")]),t._v(" "),s("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.returns}},[t._v("返回到开单")])],1)],1),t._v(" "),s("el-col",[s("span",[t._v(" 订单状态:"+t._s(t.item.order_status))]),t._v(" "),s("span",[t._v(" 排号:"+t._s(t.item.wait_number))])]),t._v(" "),s("el-col",{staticClass:"model"},[s("span",[t._v("业务类型")]),t._v(" "),s("el-checkbox-group",{model:{value:t.item.op_type,callback:function(e){t.$set(t.item,"op_type",e)},expression:"item.op_type"}},[s("el-checkbox",{attrs:{label:"维修"}}),t._v(" "),s("el-checkbox",{attrs:{label:"保养"}}),t._v(" "),s("el-checkbox",{attrs:{label:"钣喷"}}),t._v(" "),s("el-checkbox",{attrs:{label:"美容"}}),t._v(" "),s("el-checkbox",{attrs:{label:"改装"}}),t._v(" "),s("el-checkbox",{attrs:{label:"其他"}})],1)],1),t._v(" "),s("h2",[t._v("车辆信息")]),t._v(" "),s("el-row",{staticClass:"info",attrs:{gutter:20}},[s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:6},md:{span:6},lg:{span:6}}},[s("span",[t._v("车牌号:")]),t._v(" "),s("span",[t._v(t._s(t.item.vehicle_number))])]),t._v(" "),s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:6},md:{span:6},lg:{span:6}}},[s("span",[t._v("VIN码:")]),t._v(" "),s("span",[t._v(t._s(t.item.vehicle_vin))])]),t._v(" "),s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:6},md:{span:6},lg:{span:6}}},[s("span",[t._v("车型:")]),t._v(" "),s("span",[t._v(t._s(t.item.brand)+" "+t._s(t.item.model)+" "+t._s(t.item.vehicle_model))])]),t._v(" "),s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:6},md:{span:6},lg:{span:6}}},[s("span",[t._v("颜色:")]),t._v(" "),s("span",[t._v(t._s(t.item.vehicle_color))])])],1),t._v(" "),s("div",{staticClass:"table",staticStyle:{"margin-top":"80px"}},[s("el-row",{staticStyle:{"algin-items":"center"},attrs:{type:"flex"}},[s("h2",{staticStyle:{margin:"0","line-height":"40px",width:"140px"}},[t._v("材料清单")]),t._v(" "),s("el-col",[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.print}},[t._v("打印发货单")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.deliver}},[t._v("发货")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.tuihuos}},[t._v("退货")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addparint}},[t._v("增加材料")])],1)],1),t._v(" "),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.item.list,"tooltip-effect":"dark",stripe:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection","header-align":"center",align:"center",width:"55"}}),t._v(" "),s("el-table-column",{attrs:{label:"编号","header-align":"center",align:"center",prop:"id",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"parts_sn","header-align":"center",align:"center",label:"材料编码",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"parts_name","header-align":"center",align:"center",label:"材料名称",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"target_model","header-align":"center",align:"center",label:"对应车型"}}),t._v(" "),s("el-table-column",{attrs:{prop:"spec","header-align":"center",align:"center",label:"规格",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"unit","header-align":"center",align:"center",label:"单位",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{prop:"amount","header-align":"center",align:"center",label:"数量",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.amount))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"purchase_price_tax",label:"进货单价(含税)","header-align":"center",align:"center",width:"140"}}),t._v(" "),s("el-table-column",{attrs:{prop:"purchase_price_notax","header-align":"center",align:"center",label:"进货单价(不含税)",width:"140"}}),t._v(" "),s("el-table-column",{attrs:{prop:"final_price","header-align":"center",align:"center",label:"出货单价",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"type_name","header-align":"center",align:"center",label:"业务类型",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"target_model","header-align":"center",align:"center",label:"质检详情"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(0==e.row.quality_status?"待质检":1==e.row.quality_status?"已质检":"返工"))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"status","header-align":"center",align:"center",label:"配件状态",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status","header-align":"center",align:"center",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.parts_status?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){t.revamp(e)}}},[t._v("修改数量")]):t._e()]}}])})],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"退货",center:"",visible:t.tuihuo.showkey},on:{"update:visible":function(e){t.$set(t.tuihuo,"showkey",e)}}},[s("el-form",{ref:"zonetuihuo",staticClass:"tuihuo",attrs:{"label-position":"left",rules:t.rules,model:t.tuihuo.form}},[s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"材料名称",prop:"parts_name","label-width":"140px"}},[s("el-input",{staticStyle:{width:"210px"},attrs:{"auto-complete":"off"},model:{value:t.tuihuo.form.parts_name,callback:function(e){t.$set(t.tuihuo.form,"parts_name",e)},expression:"tuihuo.form.parts_name"}})],1)],1),t._v(" "),s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"数量",prop:"amount","label-width":"140px"}},[s("el-input",{staticStyle:{width:"210px"},attrs:{"auto-complete":"off"},model:{value:t.tuihuo.form.amount,callback:function(e){t.$set(t.tuihuo.form,"amount",e)},expression:"tuihuo.form.amount"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.tuihuo.showkey=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.suretuihuo()}}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"修改数量",center:"",visible:t.number.showkey},on:{"update:visible":function(e){t.$set(t.number,"showkey",e)}}},[s("el-form",{ref:"zonetuihuo",staticClass:"tuihuo",attrs:{"label-position":"left",rules:t.rules,model:t.number.form}},[s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"材料名称",prop:"parts_name","label-width":"140px"}},[s("span",[t._v(t._s(t.number.form.parts_name))])])],1),t._v(" "),s("el-col",{attrs:{"el-col":"",shadow:"always",xs:{span:12},sm:{span:12},md:{span:12},lg:{span:12}}},[s("el-form-item",{attrs:{label:"数量",prop:"amount","label-width":"140px"}},[s("el-input",{staticStyle:{width:"210px"},attrs:{"auto-complete":"off"},model:{value:t.number.form.amount,callback:function(e){t.$set(t.number.form,"amount",e)},expression:"number.form.amount"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.number.showkey=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.surenumber()}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v("编号")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v("材料编码")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"200",height:"30",align:"center"}},[t._v("材料名称")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"120",height:"30",align:"center"}},[t._v("对应车型")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v("规格")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v("单位")]),t._v(" "),s("td",{staticStyle:{border:"solid 1px black"},attrs:{width:"70",height:"30",align:"center"}},[t._v("数量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ul",staticStyle:{"margin-top":"40px",display:"flex","-ms-flex-wrap":"wrap","flex-wrap":"wrap","-webkit-box-pack":"justify","-ms-flex-pack":"justify","justify-content":"space-between"}},[e("p",{staticClass:"list",staticStyle:{"-webkit-box-flex":"0","-ms-flex":"0 0 33%",flex:"0 0 33%","font-size":"13px","line-height":"30px",height:"30px",margin:"0","margin-bottom":"5px"}},[this._v("\n                领用人:\n              ")]),this._v(" "),e("p",{staticClass:"list",staticStyle:{"-webkit-box-flex":"0","-ms-flex":"0 0 33%",flex:"0 0 33%","font-size":"13px","line-height":"30px",height:"30px",margin:"0","margin-bottom":"5px"}},[this._v("\n                领用部门:\n              ")]),this._v(" "),e("p",{staticClass:"list",staticStyle:{"-webkit-box-flex":"0","-ms-flex":"0 0 33%",flex:"0 0 33%","font-size":"13px","line-height":"30px",height:"30px",margin:"0","margin-bottom":"5px"}},[this._v("\n                仓管员:\n              ")])])}]};var d=s("VU/8")(p,c,!1,function(t){s("M5at")},null,null);e.default=d.exports}});