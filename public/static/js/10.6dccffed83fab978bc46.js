webpackJsonp([10],{XgEW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("M9A7"),r=n("QiB2"),o=n("9+7I"),a=n("0xDb"),l=n("NJ2I"),s={name:"orderindex",components:{Iconlist:o.a,Comheader:l.a,Pageing:r.a},data:function(){return{input:"12",nodata:!1,orderlist:"",starttime:"",endtime:"",loadings:!0,numlist:["-1"],formInline:{consultant:[],download:!0,checkconsultant:"",time:"",workquery:""},list:[],page:{},counst:[]}},mounted:function(){this.getlist({},!0)},filters:{capitalize:function(t){var e=this.list;return 0==this.numlist.length?e:e.filter(function(t){return this.numlist.indexOf(t.status_num>-1)})}},computed:{capitalize:function(t){var e=this,n=this.list;return 0==this.numlist.length?n:n.filter(function(t){return e.numlist.indexOf(t.status_num)>-1})}},methods:{details:function(t){this.$router.push({name:"orrdersgoodsdetails",query:{id:t.row.order_id}})},download:function(){var t=this.formInline;this.HttpDownload("/api/workorder/list?service_consultant="+(t.checkconsultant.length>0?t.checkconsultant:"")+"&export=1&query="+(t.workquery.length>0?t.workquery:"")+"&order_status="+this.orderlist+"&begin_time="+(t.time?t.time[0]/1e3:"")+"&end_time="+(t.time?t.time[1]/1e3:""),"订单列表.xls")},checkdate:function(t,e){return Object(a.a)(t,e)},numlists:function(t){this.numlist=t,this.numlist.indexOf("-1")>-1?this.orderlist="":this.orderlist=this.numlist.join(","),this.orderlist=-1==this.orderlist?"":this.orderlist;var e=this.formInline;this.getlist({page:1,service_consultant:e.checkconsultant,query:e.workquery,order_status:this.orderlist,begin_time:e.time?e.time[0]/1e3:"",end_time:e.time?e.time[1]/1e3:""})},neworder:function(){this.$router.push({name:"orderdetails"})},getlist:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(i.a)("workorder/list",t).then(function(t){e.loadings=!1;var i=[];for(var r in t.data.sc_list)i.push({label:t.data.sc_list[r],id:t.data.sc_list[r]});e.formInline.consultant=i,e.nodata=0==t.data.list.length,e.list=t.data.list;var o=t.data.page;for(var a in o)o[a]=parseInt(o[a]);e.page=o,e.counst=t.data.counts,n&&(e.numlist=["-1"]),e.$message({showClose:!0,message:"数据已更新",type:"success"})})},pagechange:function(t){var e=this.formInline;this.getlist({page:t,query:e.workquery,order_status:this.orderlist,service_consultant:e.checkconsultant,begin_time:e.time?e.time[0]/1e3:"",end_time:e.time?e.time[1]/1e3:""})},search:function(t){console.log(t);var e=this.formInline;this.getlist({page:1,query:e.workquery,order_status:this.orderlist,service_consultant:e.checkconsultant,begin_time:t.time?t.time[0]/1e3:"",end_time:t.time?t.time[1]/1e3:""})}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-index"},[i("comheader",{attrs:{formInline:t.formInline},on:{download:t.download,search:t.search}}),t._v(" "),i("iconlist",{attrs:{numlist:t.numlist,checktype:!0,data:t.counst},on:{numlists:t.numlists}}),t._v(" "),t.nodata?i("div",{staticClass:"nodata"},[i("img",{staticStyle:{display:"block",margin:"240px auto 20px"},attrs:{src:n("5c/t"),alt:""}}),t._v(" "),i("p",[t._v("暂时还没有数据哟")])]):i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadings,expression:"loadings"}],ref:"multipleTable",staticClass:"printprimary",staticStyle:{width:"100%"},attrs:{type:"index",stripe:!0,data:t.list,border:"","tooltip-effect":"dark"}},[i("el-table-column",{attrs:{prop:"order_sn",align:"center","header-align":"center",label:"订单号","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"status",align:"center","header-align":"center",label:"订单状态",width:"120","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"contact_name",label:"联系人",align:"center","header-align":"center",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"phone",align:"center","header-align":"center",label:"手机号",width:"120","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"车牌号",prop:"vehicle_number",align:"center","header-align":"center",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"service_items",align:"center","header-align":"center",label:"业务类型","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"service_consultant",align:"center","header-align":"center",label:"服务顾问",width:"120","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{prop:"order_sn",align:"center","header-align":"center",width:"120",label:"实收金额","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n               "+t._s("已支付"!=e.row.pay_status?"":e.row.income+"元")+"\n              ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"pay_status",align:"center","header-align":"center",width:"120",label:"支付状态","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},on:{click:function(n){t.details(e)}},slot:"reference"},[t._v("查看详情")])]}}])})],1),t._v(" "),i("pageing",{directives:[{name:"show",rawName:"v-show",value:t.page.totalnum,expression:"page.totalnum"}],attrs:{pageing:t.page},on:{pagechange:t.pagechange}})],1)},staticRenderFns:[]};var c=n("VU/8")(s,d,!1,function(t){n("olcC")},"data-v-b29362fe",null);e.default=c.exports},ihby:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.order-index[data-v-b29362fe] {\n  margin: 20px;\n}\n.order-index-list[data-v-b29362fe] {\n    margin-top: 30px;\n    display: block;\n    width: 100%;\n    overflow: hidden;\n}\n.order-index-list .grid-content[data-v-b29362fe] {\n      padding: 10px 14px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      position: relative;\n      border: 1px solid #bbbbbb;\n      margin-bottom: 20px;\n}\n.order-index-list .grid-content .margin[data-v-b29362fe] {\n        margin-bottom: 20px;\n}\n.order-index-list .grid-content .list-level[data-v-b29362fe] {\n        position: relative;\n        padding-top: 10px;\n        width: 95%;\n}\n.order-index-list .grid-content .list-level p[data-v-b29362fe] {\n          position: absolute;\n          color: #66b1ff;\n          top: -30px;\n          right: 0;\n}\n.order-index-list .grid-content .list-info[data-v-b29362fe] {\n        position: absolute;\n        width: 70px;\n        top: 10px;\n        right: 14px;\n}\n.order-index-list .grid-content .list-info-type[data-v-b29362fe] {\n          width: 70px;\n          height: 70px;\n          line-height: 70px;\n          font-size: 12px;\n          text-align: center;\n          border: 1px solid #bbbbbb;\n          border-radius: 70px;\n          margin-bottom: 14px;\n}\n.order-index-list .grid-content .list-info-num[data-v-b29362fe] {\n          text-align: center;\n          display: block;\n}\n.order-index-list .grid-content .list-bottom[data-v-b29362fe] {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n}\n.order-index-header[data-v-b29362fe] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.order-index-header div[data-v-b29362fe] {\n      margin-right: 10px;\n}\n",""])},olcC:function(t,e,n){var i=n("ihby");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7f8f3818",i,!0)}});